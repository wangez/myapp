webpackJsonp([11],{442:function(t,a,n){"use strict";function e(t){l||n(564)}Object.defineProperty(a,"__esModule",{value:!0});var i=n(522),r=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(a,t,function(){return i[t]})}(s);var o=n(566),l=!1,h=n(24),c=e,d=h(r.a,o.a,!1,c,null,null);d.options.__file="src\\renderer\\components\\articles\\canvasradar.vue",a.default=d.exports},522:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"canvasradar",data:function(){return{points:[],total:5e3}},mounted:function(){var t=this.image=document.createElement("canvas"),a=t.getContext("2d"),n=a.createRadialGradient(5,5,0,5,5,5);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.width=t.height=10,a.fillStyle=n,a.fillRect(0,0,10,10),this.pointsCTX=this.getContext(this.$refs.points),this.pointerCTX=this.getContext(this.$refs.pointer);var e=this.pointsCTX.canvas.width,i=this.pos=Math.floor(e/2),r=this.r=Math.floor(.9*this.pos);this.beginTime=(new Date).getTime();var s=this.getContext(this.$refs.circle);s.strokeStyle="#32a10d";for(var o=1;o<6;o++)s.beginPath(),s.arc(i,i,r*o/5,0,2*Math.PI),s.stroke();this.anima()},methods:{getContext:function(t){var a=t.getBoundingClientRect(),n=a.width;return t.width=t.height=n,t.getContext("2d")},draw:function(){var t=this.beginTime,a=this.total,n=this.pointsCTX,e=this.pointerCTX,i=this.pos,r=this.r,s=this.image,o=(new Date).getTime(),l=(o-t)%a;l<this.lastTime&&(console.log("update points"),this.points.forEach(function(t){return t.flashed=!1}));var h=l/this.total*2*Math.PI;e.beginPath(),e.arc(i,i,r,0,2*Math.PI),e.fillStyle="rgba(150, 255, 150, 0.01)",e.fill(),n.clearRect(0,0,2*i,2*i),this.points.forEach(function(t){l>t.delay&&!t.flashed&&(t.alpha=1,t.flashed=!0),t.alpha>0&&(n.globalAlpha=t.alpha,n.drawImage(s,t.x-5,t.y-5,10,10),t.alpha-=.01)}),e.fillStyle="#32a10d",e.beginPath(),e.moveTo(i,i),e.arc(i,i,r,h,h+.03*Math.PI),e.closePath(),e.fill(),this.lastTime=l},anima:function(){var t=this;this.handle=requestAnimationFrame(function(a){return t.anima()}),this.draw()},click:function(t){var a=this.pos,n=this.total,e=(this.r,t.offsetX),i=t.offsetY,r=(Math.atan2(i-a,e-a)/Math.PI*180+360)%360,s=Math.sqrt(Math.pow(e-a,2)+Math.pow(i-a,2)),o=r/360*n;this.points.push({x:e,y:i,angle:r,dis:s,delay:o,alpha:0,flashed:!0})}},beforeDestroy:function(){cancelAnimationFrame(this.handle)}}},564:function(t,a,n){var e=n(565);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n(23)("0f145a9d",e,!1)},565:function(t,a,n){a=t.exports=n(19)(void 0),a.push([t.i,"\n#canvasradar {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 30em;\n  height: 20em;\n  border: 1px solid #333;\n  -webkit-box-shadow: 0 0 1px 1px #333;\n          box-shadow: 0 0 1px 1px #333;\n}\n#canvasradar #radar {\n  position: absolute;\n  top: 3em;\n  bottom: 3em;\n  left: 16em;\n  right: 0;\n  margin: auto;\n}\n#canvasradar #radar .points,\n#canvasradar #radar .pointer,\n#canvasradar #radar .circle {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n",""])},566:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"canvasradar"}},[n("div",[t._v("点击雷达图添加点")]),t._v(" "),t._l(t.points,function(a,e){return n("div",[t._v(t._s("第"+(e+1)+"个点，方向："+a.angle.toFixed(2)+", 距离："+a.dis.toFixed(2)))])}),t._v(" "),n("div",{attrs:{id:"radar"}},[n("canvas",{ref:"pointer",staticClass:"pointer"}),t._v(" "),n("canvas",{ref:"points",staticClass:"points"}),t._v(" "),n("canvas",{ref:"circle",staticClass:"circle",on:{click:t.click}})])],2)},i=[];e._withStripped=!0;var r={render:e,staticRenderFns:i};a.a=r}});